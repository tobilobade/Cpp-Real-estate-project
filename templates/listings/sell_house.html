{% extends 'base.html' %}
{% load static %}

{% block title %}Sell House{% endblock %}

{% block content %}
{% include 'listings/header.html' %}
<div class="container">
    <h1>Sell Your House</h1>
    <div class="row">
        <!-- Display form for selling house -->
        <div class="col-md-6">
            <h2>Submit Your House</h2>
            <form method="post" enctype="multipart/form-data">
                {% csrf_token %}
                {{ form.as_p }}
                
                
                <button type="submit" class="btn btn-primary">Submit</button>
            </form>
        </div>
        <div class="col-md-6">
            <h2>Your Houses</h2>
            {% if houses %}
                <ul>
                    {% for house in houses %}
                    <li>
                        <h5>{{ house.title }}</h5>
                        <p>{{ house.description }}</p>
                        <!-- Other house details -->
                        
                        <div style="display: flex; flex-direction:row; gap:10px;">
                             <form method="post" action="{% url 'delete_house' house.id %}">
                            {% csrf_token %}
                                <button type="submit" class="btn btn-danger">Delete</button>
                            </form>
                         <a href="{% url 'update_house' house.id %}" class="btn btn-secondary">Update</a>
                        </div>
                       
                    </li>
                    {% endfor %}
                </ul>
            {% else %}
                <p>No houses submitted yet.</p>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}
